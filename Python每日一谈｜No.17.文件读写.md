---
title: Python每日一谈｜No.17.文件读写
categories: Python每日一谈
---

well，我们很多基本的操作都属于I/O流

假设你只是一个黑盒子用户的话，大概只需要调取参数，获取自己所需的文件然后进行下一步操作即可

我们现在就来看下python的I/O流

1. 读取一个文件

   我们以`1stp.pdb`这个蛋白为例

   下载地址在这里：http://www.rcsb.org/structure/1STP

   ![image-20210308214614070](/Users/sujiaqi/Pictures/Typora/image-20210308214614070.png)
```
        # 我们可以直接使用python自带的os函数打开
        In [1]: f = open('1stp.pdb','r')
```

​    其基本形式为


```
   f = open(文件名，打开模式)

   各个参数的细节如下：
   - 文件名：文件名是一个字符串值。
   - 打开模式：只读（r），写入(w)，追加(w+)等。

```

这里有一份来源于菜鸟教程的，使用不同模式打开文件的说明

   当然，你并不需要全文背诵，只需要知道几个常用值就好：


| 模式 | 描述                                                         |
| ---- | ------------------------------------------------------------ |
| t    | 文本模式 (默认)。                                            |
| x    | 写模式，新建一个文件，如果该文件已存在则会报错。             |
| b    | 二进制模式。                                                 |
| +    | 打开一个文件进行更新(可读可写)。                             |
| U    | 通用换行模式（不推荐）。                                     |
| r    | 以只读方式打开文件。文件的指针将会放在文件的开头。这是默认模式。 |
| rb   | 以二进制格式打开一个文件用于只读。文件指针将会放在文件的开头。这是默认模式。一般用于非文本文件如图片等。 |
| r+   | 打开一个文件用于读写。文件指针将会放在文件的开头。           |
| rb+  | 以二进制格式打开一个文件用于读写。文件指针将会放在文件的开头。一般用于非文本文件如图片等。 |
| w    | 打开一个文件只用于写入。如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。如果该文件不存在，创建新文件。 |
| wb   | 以二进制格式打开一个文件只用于写入。如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。如果该文件不存在，创建新文件。一般用于非文本文件如图片等。 |
| w+   | 打开一个文件用于读写。如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。如果该文件不存在，创建新文件。 |
| wb+  | 以二进制格式打开一个文件用于读写。如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。如果该文件不存在，创建新文件。一般用于非文本文件如图片等。 |
| a    | 打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。也就是说，新的内容将会被写入到已有内容之后。如果该文件不存在，创建新文件进行写入。 |
| ab   | 以二进制格式打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。也就是说，新的内容将会被写入到已有内容之后。如果该文件不存在，创建新文件进行写入。 |
| a+   | 打开一个文件用于读写。如果该文件已存在，文件指针将会放在文件的结尾。文件打开时会是追加模式。如果该文件不存在，创建新文件用于读写。 |
| ab+  | 以二进制格式打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。如果该文件不存在，创建新文件用于读写。 |

在我们打开文本对象之后，下一步该做的就是提取字符串

```python
In [4]: f_str = f.read()
In [5]: f_str[:300]
Out[5]: 'HEADER    BIOTIN BINDING PROTEIN                  12-MAR-92   1STP              \nTITLE     STRUCTURAL ORIGINS OF HIGH-AFFINITY BIOTIN BINDING TO STREPTAVIDIN    \nCOMPND    MOL_ID: 1;                                                            \nCOMPND   2 MOLECULE: STREPTAVIDIN COMPLEX WITH BIOTIN;   '
```

当执行完成操作之后记得要关闭此对象

```
In [6]: f.close()
```



此时，你便获取了一部分文字

现在就可以对其进行编辑，增加删除，然后输出

此时，我们需要再次打开一个写入对象

```python
In [6]: f_new = open('out.pdb','w')

In [7]: f_new.write(f_str)
Out[7]: 119232
  
# 关闭对象
In [9]: f_new.close()
```



